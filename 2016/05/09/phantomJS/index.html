<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Welcome to Minni&#39;s Blog (FinTech/BigData/Internet Financing)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="why phantomJS can’t load the web page while browser can?Tag： BigData

sometimes I need to retrieve the data from a web page which has javascript rendering. For example, the following one:
eval(functio">
<meta property="og:type" content="article">
<meta property="og:title" content="Welcome to Minni's Blog (FinTech/BigData/Internet Financing)">
<meta property="og:url" content="http://lyxminnie.github.io/2016/05/09/phantomJS/index.html">
<meta property="og:site_name" content="Welcome to Minni's Blog (FinTech/BigData/Internet Financing)">
<meta property="og:description" content="why phantomJS can’t load the web page while browser can?Tag： BigData

sometimes I need to retrieve the data from a web page which has javascript rendering. For example, the following one:
eval(functio">
<meta property="og:updated_time" content="2016-05-10T03:49:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Welcome to Minni's Blog (FinTech/BigData/Internet Financing)">
<meta name="twitter:description" content="why phantomJS can’t load the web page while browser can?Tag： BigData

sometimes I need to retrieve the data from a web page which has javascript rendering. For example, the following one:
eval(functio">
  
    <link rel="alternate" href="/atom.xml" title="Welcome to Minni&#39;s Blog (FinTech/BigData/Internet Financing)" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Welcome to Minni&#39;s Blog (FinTech/BigData/Internet Financing)</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://lyxminnie.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-phantomJS" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/09/phantomJS/" class="article-date">
  <time datetime="2016-05-10T03:48:17.000Z" itemprop="datePublished">2016-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="why-phantomJS-can’t-load-the-web-page-while-browser-can"><a href="#why-phantomJS-can’t-load-the-web-page-while-browser-can" class="headerlink" title="why phantomJS can’t load the web page while browser can?"></a>why phantomJS can’t load the web page while browser can?</h1><p>Tag： BigData</p>
<hr>
<p>sometimes I need to retrieve the data from a web page which has javascript rendering. For example, the following one:</p>
<pre><code>eval(function(p,a,c,k,e,d){e=function(c){return(c&lt;a?&apos;&apos;:e(parseInt(c/a)))+((c=c%a)&gt;32?String.fromCharCode(c+32):c.toString(33))};if(!&apos;&apos;.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return&apos;\\w+&apos;};c=1};while(c--)if(k[c])p=p.replace(new RegExp(&apos;\\b&apos;+e(c)+&apos;\\b&apos;,&apos;g&apos;),k[c]);return p}(&apos;15 D=&quot;k&quot;;15 1a=&quot;i&quot;;15 1b=&quot;l&quot;;15 11=c;15 F = &quot;e+/=&quot;;J g(10) {15 U, N, R;15 o, p, q;R = 10.S;N = 0;U = &quot;&quot;;17 (N &lt; R) {o = 10.s(N++) &amp; 6;O (N == R) {U += F.r(o &gt;&gt; a);U += F.r((o &amp; 1) &lt;&lt; b);U += &quot;==&quot;;n;}p = 10.s(N++);O (N == R) {U += F.r(o &gt;&gt; a);U += F.r(((o &amp; 1) &lt;&lt; b) | ((p &amp; 5) &gt;&gt; b));U += F.r((p &amp; 4) &lt;&lt; a);U += &quot;=&quot;;n;}q = 10.s(N++);U += F.r(o &gt;&gt; a);U += F.r(((o &amp; 1) &lt;&lt; b) | ((p &amp; 5) &gt;&gt; b));U += F.r(((p &amp; 4) &lt;&lt; a) | ((q &amp; 3) &gt;&gt; d));U += F.r(q &amp; 2);}W U;}J H(){15 16= 19.Q||B.C.u||B.m.u;15 K= 19.P||B.C.t||B.m.t;O (16*K &lt;= 8) {W 14;}15 1d = 19.Y;15 1e = 19.Z;O (1d + 16 &lt;= 0 || 1e + K &lt;= 0 || 1d &gt;= 19.X.18 || 1e &gt;= 19.X.M) {W 14;}W G;}J h(){15 12 = 1a+1b;15 L = 0;15 N = 0;I(N = 0; N &lt; 12.S; N++) {L += 12.s(N);}L *= 9;L += 7;W &quot;j&quot;+L;}J f(){O(H()) {} E {15 A = &quot;&quot;;    A = &quot;1c=&quot;+g(11.13()) + &quot;; V=/&quot;;B.w = A;    15 v = h();A = &quot;1a=&quot;+g(v.13()) + &quot;; V=/&quot;;B.w = A;    19.T=D;}}f();&apos;,59,74,&apos;0|0x3|0x3f|0xc0|0xf|0xf0|0xff|111111|120000|13|2|4|5|6|ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789|HXXTTKKLLPPP5|KTKY2RBD9NHPBCIHV9ZMEQQDARSLVFDU|QWERTASDFGXYSF|RANDOMSTR7644|WZWS_CONFIRM_PREFIX_LABEL5|/|STRRANDOM7644|body|break|c1|c2|c3|charAt|charCodeAt|clientHeight|clientWidth|confirm|cookie|cookieString|document|documentElement|dynamicurl|else|encoderchars|false|findDimensions|for|function|h|hash|height|i|if|innerHeight|innerWidth|len|length|location|out|path|return|screen|screenX|screenY|str|template|tmp|toString|true|var|w|while|width|window|wzwschallenge|wzwschallengex|wzwstemplate|x|y&apos;.split(&apos;|&apos;),0,{}))
</code></pre><p>In this case, I will use phantomJS to do the job. But unfortunately phantomJS doesn’t work always. For example, phantomJS can’t load the above web page at all. Why?</p>
<p>the page has phantomJS detection. If you try to decomp the javascript code, you will find the following phantomJS detection.</p>
<pre><code>var w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
var h = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
if (w * h &lt;= 120000) {
    return true;
}
</code></pre><p>  This detection will make phantomJS fail to load the page. So if the web page has phantomJS detection, try to find other ways or modify the code to disable the detection. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lyxminnie.github.io/2016/05/09/phantomJS/" data-id="cio104xwd00034em96firwmba" class="article-share-link">Share</a>
      
        <a href="http://lyxminnie.github.io/2016/05/09/phantomJS/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/05/09/Time Series Analysis/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2016/05/03/Hadoop/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hadoop</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BigData/">BigData</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/BigData/" style="font-size: 10px;">BigData</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/10/Russell/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/05/09/Time Series Analysis/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/05/09/phantomJS/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/05/03/Hadoop/">Hadoop</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Min Ni<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'lyxminniegithubio';
  
  var disqus_url = 'http://lyxminnie.github.io/2016/05/09/phantomJS/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>